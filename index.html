<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MACH SCORE | LIVE API</title>
    <style>
        :root { --bg: #0d0d0d; --card: #1a1a1a; --accent: #ffde00; --text: #f0f0f0; --border: #333; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; height: 100vh; overflow: hidden; }

        /* SOL MENÃœ */
        .sidebar-left { width: 210px; background: #111; border-right: 1px solid var(--border); padding: 10px; overflow-y: auto; flex-shrink: 0; }
        .sidebar-left h3 { font-size: 10px; color: #555; text-transform: uppercase; padding: 10px; }
        .country-item { cursor: pointer; padding: 10px; border-radius: 4px; font-size: 13px; display: flex; justify-content: space-between; transition: 0.2s; }
        .country-item:hover { background: #222; color: var(--accent); }
        .sub-leagues { padding-left: 20px; display: none; background: #141414; }
        .sub-leagues div { padding: 8px 10px; font-size: 11px; color: #888; }
        .open { display: block !important; }

        /* ANA AKIÅ */
        .main-feed { flex-grow: 1; overflow-y: auto; padding: 15px 15px 15px 38px; margin: 0; max-width: 700px; }

        /* SAÄ PANEL - CHAT */
        .sidebar-right { position: fixed; right: -360px; top: 0; width: 350px; height: 100vh; background: #0a0a0a; box-shadow: -10px 0 40px rgba(0,0,0,0.8); transition: 0.3s ease-in-out; z-index: 9999; }
        .sidebar-right.open-chat { right: 0; }
        .chat-container { display: flex; flex-direction: column; height: 100%; }
        .chat-header { padding: 20px; border-bottom: 1px solid #333; font-weight: bold; color: var(--accent); display: flex; justify-content: space-between; align-items: center; }
        .chat-messages { flex-grow: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .chat-input-area { padding: 15px; border-top: 1px solid #333; display: flex; gap: 8px; background: #111; }
        .chat-input { flex-grow: 1; background: #222; border: 1px solid #444; color: #fff; padding: 10px; border-radius: 5px; outline: none; }
        .chat-send { background: var(--accent); color: #000; border: none; padding: 0 15px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .message { background: #222; padding: 8px 12px; border-radius: 8px; font-size: 13px; border-left: 3px solid var(--accent); max-width: 85%; }
        .msg-user { color: var(--accent); font-weight: bold; font-size: 11px; margin-bottom: 2px; display: block; }

        /* MAÃ‡ SATIRLARI */
        .league-title { background: #222; padding: 6px 12px; font-size: 11px; font-weight: bold; color: var(--accent); margin-top: 20px; border-radius: 3px; border-left: 3px solid var(--accent); text-transform: uppercase; }
        .match-row { background: var(--card); border-bottom: 1px solid #222; display: flex; align-items: center; padding: 12px; gap: 15px; }
        .time { width: 40px; font-size: 11px; color: var(--accent); font-weight: bold; }
        .live-dot { color: #ff4d4d; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        .teams { flex-grow: 1; font-size: 14px; }
        .teams img { margin-right: 8px; vertical-align: middle; }
        .score-box { background: #252525; padding: 6px 14px; border-radius: 4px; color: var(--accent); font-weight: bold; font-size: 17px; min-width: 50px; text-align: center; position: relative; cursor: help; }
        .hover-stats { position: absolute; bottom: 130%; left: 50%; transform: translateX(-50%); width: 180px; background: #1a1a1a; border: 2px solid var(--accent); border-radius: 8px; padding: 12px; z-index: 1000; display: none; box-shadow: 0 5px 15px rgba(0,0,0,0.5); font-weight: normal; color: #fff; }
        .score-box:hover .hover-stats { display: block; }
        .odds-container { display: flex; gap: 5px; }
        .odd-box { background: #2a2a2a; padding: 6px 10px; border-radius: 4px; font-size: 11px; color: #ccc; min-width: 40px; text-align: center; cursor: pointer; }

        /* YÃœZEN BUTON */
        .chat-toggle { position: fixed; right: 25px; bottom: 25px; width: 60px; height: 60px; background: var(--accent); color: #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; cursor: pointer; box-shadow: 0 5px 20px rgba(0,0,0,0.5); z-index: 2001; }
        h1 { font-size: 22px; color: var(--accent); border-bottom: 1px solid #222; padding-bottom: 10px; margin-bottom: 20px; }
    </style>
</head>
<body>

<div class="sidebar-left" id="side-left">
    <h3>DÃœNYA LÄ°GLERÄ°</h3>
</div>

<div class="main-feed">
    <h1>MACH SCORE LIVE</h1>
    <div id="match-list">
        <p style="color:#555;">CanlÄ± veriler hazÄ±rlanÄ±yor...</p>
    </div>
</div>

<div class="chat-toggle" onclick="toggleChat()">ğŸ—¨ï¸</div>

<div class="sidebar-right" id="chat-sidebar">
    <div class="chat-container">
        <div class="chat-header">
            <span>ğŸ—¨ï¸ CANLI SOHBET</span>
            <span onclick="toggleChat()" style="cursor:pointer; font-size: 24px;">&times;</span>
        </div>
        <div class="chat-messages" id="chat-box">
            <div class="message"><span class="msg-user">Sistem:</span> HoÅŸ geldin Mach! API baÄŸlantÄ±sÄ± kuruluyor.</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" class="chat-input" placeholder="YazÄ±n...">
            <button class="chat-send" onclick="sendMessage()">GÃ–NDER</button>
        </div>
    </div>
</div>
<script>
    // 1. API AYARLARI
    const API_KEY = '59e9aaec6ebc423c8a31848f004a3b8e'; 

    // 2. SABÄ°T VERÄ°LER
    const worldData = [
        { name: "TÃ¼rkiye", flag: "ğŸ‡¹ğŸ‡·", leagues: ["SÃ¼per Lig", "1. Lig"] },
        { name: "Ä°ngiltere", flag: "ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿", leagues: ["Premier League"] },
        { name: "Ä°spanya", flag: "ğŸ‡ªğŸ‡¸", leagues: ["La Liga"] },
        { name: "Almanya", flag: "ğŸ‡©ğŸ‡ª", leagues: ["Bundesliga"] },
        { name: "Ä°talya", flag: "ğŸ‡®ğŸ‡¹", leagues: ["Serie A"] },
        { name: "Fransa", flag: "ğŸ‡«ğŸ‡·", leagues: ["Ligue 1"] }
    ];

    // 3. MAÃ‡LARI Ã‡EKME FONKSÄ°YONU
   async function fetchLiveMatches() {
        const list = document.getElementById('match-list');
        
        // .trim() ekleyerek gÃ¶rÃ¼nmez boÅŸluklarÄ± temizliyoruz
        const cleanKey = API_KEY.trim(); 

        const options = { 
            headers: { 'X-Auth-Token': cleanKey } 
        };

        try {
            const response = await fetch('https://api.football-data.org/v4/matches', options);
            // ... (kodun geri kalanÄ± aynÄ±)
            const data = await response.json();
            
            if (!data.matches || data.matches.length === 0) {
                list.innerHTML = '<p style="text-align:center; color:#555;">Åu an aktif maÃ§ bulunmuyor.</p>';
                return;
            }
            renderMatches(data.matches);
        } catch (error) {
            console.error('Hata:', error);
            list.innerHTML = '<p style="color:red; text-align:center;">API BaÄŸlantÄ± HatasÄ±!</p>';
        }
    }

    // 4. EKRANA BASMA FONKSÄ°YONU
    function renderMatches(matches) {
        const list = document.getElementById('match-list');
        let html = '';
        matches.forEach(m => {
            const homeScore = m.score.fullTime.home !== null ? m.score.fullTime.home : 0;
            const awayScore = m.score.fullTime.away !== null ? m.score.fullTime.away : 0;
            const statusText = m.status === 'IN_PLAY' ? 'CANLI' : (m.status === 'FINISHED' ? 'MS' : 'BEKLÄ°YOR');

            html += `
                <div class="match-row">
                    <div class="time" style="font-size: 9px;">${statusText}</div>
                    <div class="teams">
                        <div>${m.homeTeam.name}</div>
                        <div>${m.awayTeam.name}</div>
                    </div>
                    <div class="score-box">${homeScore} - ${awayScore}</div>
                    <div class="odds-container"><div class="odd-box">-</div><div class="odd-box">-</div><div class="odd-box">-</div></div>
                </div>`;
        });
        list.innerHTML = html;
    }

    // 5. DÄ°ÄER FONKSÄ°YONLAR
    function toggleLeagues(i) { 
        const el = document.getElementById(`l-${i}`);
        if(el) el.classList.toggle('open'); 
    }
    
    function toggleChat() { 
        document.getElementById('chat-sidebar').classList.toggle('open-chat'); 
    }
    
    function sendMessage() {
        const input = document.getElementById('chat-input');
        const chatBox = document.getElementById('chat-box');
        if (input && input.value.trim() !== "") {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message';
            msgDiv.innerHTML = `<span class="msg-user">Mach:</span> ${input.value}`;
            chatBox.appendChild(msgDiv);
            input.value = "";
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    }

    // 6. BAÅLATICI (INIT)
    function init() {
        const menu = document.getElementById('side-left');
        if(menu) {
            worldData.forEach((country, index) => {
                menu.innerHTML += `
                    <div class="country-item" onclick="toggleLeagues(${index})">
                        <span>${country.flag} ${country.name}</span><span>â–¼</span>
                    </div>
                    <div class="sub-leagues" id="l-${index}">${country.leagues.map(l => `<div>${l}</div>`).join('')}</div>`;
            });
        }
        fetchLiveMatches();
        setInterval(fetchLiveMatches, 60000);
    }

    document.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
    window.onload = init;
</script>
</body>
</html>









